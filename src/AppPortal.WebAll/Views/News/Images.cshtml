
@{
    ViewData["Title"] = "Hình ảnh";
}
<script src="https://code.jquery.com/jquery-2.2.4.js"
        integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="
        crossorigin="anonymous"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<link href="~/css/news.css" rel="stylesheet" />
<style>
    .firstNewsetItem {
        display: grid !important;
        font-size: 14px !important;
        line-height: 30px !important;
        box-shadow: 0 4px 8px 0 rgba(0,0,0,0.12), 0 2px 4px 0 rgba(0,0,0,0.08);
        padding: 12px !important;
        margin-top: 10px !important;
    }
</style>

<style>
    h1 {
        font-size: 24px;
        padding: 10px 10px 10px 0px;
    }

    #right_sidebar {
        display: none !important;
    }

    .embed-container {
        position: relative;
        padding-bottom: 80%;
        height: 0;
        max-width: 100%;
    }

        .embed-container iframe, .embed-container object, .embed-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

    small {
        position: absolute;
        z-index: 40;
        bottom: 0;
        margin-bottom: -15px;
    }
</style>
<link href="~/css/news.css" rel="stylesheet" />

<div class="container">
    <h1 style="padding: 15px;">@ViewData["Title"]</h1>
    <div class="col-md-8">
        <section class="block_business_news block">
            <div class="content">
                <div id="content_top2" style="padding-top: 14px;">
                    <div class="region">
                        <aside id="block_front_slider" class="block slider" style="height: 520px;width: 100%;padding-right: 28px;">
                            <div class="flexslider slider" id="block_front_slides" style="height: 450px;width: 100%;">
                                <ul class="slides" id="home-image-preview"></ul>
                            </div>
                            <div class="flexslider carousel" id="block_front_carousel">
                                <ul class="slides" id="home-image-slide"></ul>
                            </div>
                        </aside>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <div class="col-md-4">
        <div class="col-md-12">
            <section class="block block_business_news">
                <h3 class="block_title_black">CHUYÊN MỤC TIN<a href="#" class="view_all"><span><span>Tất cả tin</span></span></a></h3>
                <div class="content">
                    <div class="right">
                        <ul id="tin-chuyen-muc-content"></ul>
                    </div>
                </div>
            </section>
        </div>
        <div class="col-md-12">
            <section class="block block_business_news">
                <h3 class="block_title_black">TIN MỚI<a href="#" class="view_all"><span><span>Tất cả tin</span></span></a></h3>
                <div class="content">
                    <div class="right">
                        <ul id="tin-moi-content"></ul>
                    </div>
                </div>
            </section>
        </div>
        <div class="col-md-12">
            <section class="block block_business_news">
                <h3 class="block_title_black">TIN XEM NHIỀU<a href="#" class="view_all"><span><span>Tất cả tin</span></span></a></h3>
                <div class="content">
                    <div class="right">
                        <ul id="tin-xem-nhieu-content"></ul>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>
@section Scripts {
    <script src="~/js/date.format.js"></script>
    <script>
        //album anhr
        $.get(appConfig.apiHostUrl + "/api/Media/getMedia?type=image&is_publish=1", function (data, status) {
            var preview = '';
            var slide = '';
            for (var i = 0; i < data.length; i++) {
                preview += '<li>';
                preview += '<img src="' + data[i].url + '" height="430" width = "100%"/>';
                preview += '<p class="flex-caption" style="width:100%">';
                preview += data[i].description;
                preview += '</p>';
                preview += '</li>';

                slide += '<li>';
                slide += '<img src="' + data[i].url + '" />';
                slide += '</li>';
            }
            $('#home-image-preview').html(preview);
            $('#home-image-slide').html(slide);
            $('#block_front_slides').flexslider({
                animation: "slide",
                controlNav: false,
                directionNav: false,
                animationLoop: false,
                slideshow: false,
                animationDuration: 1000,
                sync: "#block_front_carousel"
            });

            $('#block_front_carousel').flexslider({
                animation: "slide",
                controlNav: false,
                directionNav: true,
                itemWidth: 120,
                itemMargin: 30,
                animationDuration: 1000,
                asNavFor: '#block_front_slides'
            });
        });



        $.get(appConfig.apiHostUrl + "/api/News/getHomeNewsByCate?number=3", function (data, status) {
            var content = '';
            for (var i = 0; i < data.model.length; i++) {
                if (i != data.model.length - 1) {
                    content += '<article class="border-dot">';
                    content += '<hgroup>';
                    content += '<h4 class="title"><a href="/home/detailnews?id=' + data.model[i].Id + '" >' + data.model[i].Name + '</a></h4>';
                    content += '</hgroup>';
                    content += '<p class="date">';
                    content += '<time>';
                    content += new Date(data.model[i].OnPublished ).format("dd/mm/yyyy");
                    content += '</time>';
                    content += '</p>';
                    content += '<p style="line-height: 15px;">';
                    content += data.model[i].Abstract;
                    content += '...</p>';
                    content += '</article>';
                } else {
                    content += '<article>';
                    content += '<hgroup>';
                    content += '<h4 class="title"><a href="/home/detailnews?id=' + data.model[i].Id + '">' + data.model[i].Name + '</a></h4>';
                    content += '</hgroup>';
                    content += '<p class="date">';
                    content += '<time>';
                    content += new Date(data.model[i].OnPublished ).format("dd/mm/yyyy");
                    content += '</time>';
                    content += '</p>';
                    content += '<p style="line-height: 15px;">';
                    content += data.model[i].Abstract;
                    content += '...</p>';
                    content += '</article>';
                }
            }
            $('#tin-chuyen-muc-content').html(content);
        });

        $.get(appConfig.apiHostUrl + "/api/News/getHomeNewsByCate?id=2&number=3", function (data, status) {
            var content = '';
            for (var i = 0; i < data.model.length; i++) {
                if (i != data.model.length - 1) {
                    content += '<article class="border-dot">';
                    content += '<hgroup>';
                    content += '<h4 class="title"><a href="/home/detailnews?id=' + data.model[i].Id + '">' + data.model[i].Name + '</a></h4>';
                    content += '</hgroup>';
                    content += '<p class="date">';
                    content += '<time>';
                    content += new Date(data.model[i].OnPublished ).format("dd/mm/yyyy");
                    content += '</time>';
                    content += '</p>';
                    content += '<p style="line-height: 15px;">';
                    content += data.model[i].Abstract;
                    content += '...</p>';
                    content += '</article>';
                } else {
                    content += '<article>';
                    content += '<hgroup>';
                    content += '<h4 class="title"><a href="/home/detailnews?id=' + data.model[i].Id + '">' + data.model[i].Name + '</a></h4>';
                    content += '</hgroup>';
                    content += '<p class="date">';
                    content += '<time>';
                    content += new Date(data.model[i].OnPublished ).format("dd/mm/yyyy");
                    content += '</time>';
                    content += '</p>';
                    content += '<p style="line-height: 15px;">';
                    content += data.model[i].Abstract;
                    content += '...</p>';
                    content += '</article>';
                }

            }
            $('#tin-moi-content').html(content);
        });

        $.get(appConfig.apiHostUrl + "/api/News/getHomeNewsByCate?id=14&number=3", function (data, status) {
            var content = '';
            for (var i = 0; i < data.model.length; i++) {
                if (i != data.model.length - 1) {
                    content += '<article class="border-dot">';
                    content += '<hgroup>';
                    content += '<h4 class="title"><a href="/home/detailnews?id=' + data.model[i].Id + '">' + data.model[i].Name + '</a></h4>';
                    content += '</hgroup>';
                    content += '<p class="date">';
                    content += '<time>';
                    content += new Date(data.model[i].OnPublished ).format("dd/mm/yyyy");
                    content += '</time>';
                    content += '</p>';
                    content += '<p style="line-height: 15px;">';
                    content += data.model[i].Abstract;
                    content += '</p>';
                    content += '</article>';
                } else {
                    content += '<article>';
                    content += '<hgroup>';
                    content += '<h4 class="title"><a href="/home/detailnews?id=' + data.model[i].Id + '">' + data.model[i].Name + '</a></h4>';
                    content += '</hgroup>';
                    content += '<p class="date">';
                    content += '<time>';
                    content += new Date(data.model[i].OnPublished ).format("dd/mm/yyyy");
                    content += '</time>';
                    content += '</p>';
                    content += '<p style="line-height: 15px;">';
                    content += data.model[i].Abstract;
                    content += '</p>';
                    content += '</article>';
                }
            }
            $('#tin-xem-nhieu-content').html(content);
        });
    </script>
}